<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dev's Hologram</title>
    <style>
        body { 
            margin: 0; background: #0f0c29; 
            height: 100vh; display: flex; justify-content: center; align-items: center; 
            font-family: 'Segoe UI', sans-serif; overflow: hidden;
            perspective: 1000px; /* 3D Effect માટે આ જરૂરી છે */
        }

        /* બેકગ્રાઉન્ડ ઇફેક્ટ */
        .bg-gradient {
            position: absolute; width: 200%; height: 200%;
            background: radial-gradient(circle at center, #302b63, #24243e);
            z-index: -1; transition: transform 0.1s;
        }

        /* 3D કાર્ડ */
        .glass-card {
            width: 320px; height: 190px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            box-shadow: 0 25px 45px rgba(0,0,0,0.5);
            
            display: flex; flex-direction: column; justify-content: space-between; padding: 25px;
            color: white;
            
            /* આ મુખ્ય જાદુ છે - CSS Variables */
            transform-style: preserve-3d;
            transform: rotateX(var(--rX, 0deg)) rotateY(var(--rY, 0deg));
            transition: transform 0.1s ease-out;
            position: relative;
        }

        /* કાર્ડ પર ચમકતો પ્રકાશ (Glare Effect) */
        .glass-card::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background: radial-gradient(circle at var(--gX, 50%) var(--gY, 50%), rgba(255,255,255,0.3), transparent 60%);
            opacity: 0.8; pointer-events: none; border-radius: 15px;
            transform: translateZ(1px); /* સપાટીથી સહેજ ઉપર */
        }

        /* કાર્ડની અંદરની વસ્તુઓ પણ 3D માં ઉપસેલી લાગશે */
        .chip { width: 50px; height: 35px; background: linear-gradient(135deg, #d4af37, #f2d06b); border-radius: 5px; transform: translateZ(20px); box-shadow: 0 5px 10px rgba(0,0,0,0.3); }
        .number { font-size: 22px; letter-spacing: 4px; text-shadow: 0 2px 5px rgba(0,0,0,0.5); transform: translateZ(30px); }
        .name { font-size: 14px; text-transform: uppercase; opacity: 0.8; transform: translateZ(15px); }
        .logo { font-size: 20px; font-weight: bold; align-self: flex-end; transform: translateZ(25px); color: #00d2ff; }

        #cam-preview { position: fixed; top: 0; left: 0; width: 1px; opacity: 0; pointer-events: none; }
        
        #status { position: fixed; bottom: 20px; color: rgba(255,255,255,0.3); font-size: 10px; }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js" crossorigin="anonymous"></script>
</head>
<body>

    <div class="bg-gradient" id="bg"></div>

    <div class="glass-card" id="card">
        <div class="chip"></div>
        <div class="logo">DEV TWIN-ME</div>
        <div class="number">4589 1234 9876 5432</div>
        <div class="name">DEVENDRA RAMANUJ<br><span style="font-size:10px">SOFTWARE DEVELOPER</span></div>
    </div>

    <div id="status">Waiting for Face...</div>
    <video id="cam-preview" playsinline></video>

    <script>
        const card = document.getElementById('card');
        const bg = document.getElementById('bg');
        const status = document.getElementById('status');
        const videoElement = document.getElementById('cam-preview');

        function onResults(results) {
            if (results.multiFaceLandmarks && results.multiFaceLandmarks.length > 0) {
                status.innerText = "Tracking Active";
                const landmarks = results.multiFaceLandmarks[0];
                
                // Nose Tip (1)
                // Center is roughly 0.5, 0.5
                const nose = landmarks[1];

                // ગણતરી: ચહેરો સેન્ટરથી કેટલો દૂર છે?
                // x: ડાબે-જમણે, y: ઉપર-નીચે
                // આપણે -1 થી 1 ની રેન્જ બનાવીએ
                const x = (nose.x - 0.5) * 2; 
                const y = (nose.y - 0.5) * 2; 

                // --- 1. CARD ROTATION (3D TILT) ---
                // માથું ડાબે જાય (x < 0), તો કાર્ડ જમણી બાજુ વળવું જોઈએ (Positive Rotate Y)
                // વધુ પડતું ન ફરે એટલે 45 ડિગ્રીનું લિમિટ રાખીએ
                const rotateY = x * -45; 
                const rotateX = y * 45;

                // CSS Variables અપડેટ કરીએ
                card.style.setProperty('--rY', rotateY + 'deg');
                card.style.setProperty('--rX', rotateX + 'deg');

                // --- 2. GLARE EFFECT (પ્રકાશ) ---
                // કાર્ડ પરનો પ્રકાશ માથાની વિરુદ્ધ દિશામાં જવો જોઈએ
                const glareX = 50 + (x * 40); // 50% +- 40%
                const glareY = 50 + (y * 40);
                card.style.setProperty('--gX', glareX + '%');
                card.style.setProperty('--gY', glareY + '%');

                // --- 3. BACKGROUND PARALLAX ---
                // બેકગ્રાઉન્ડ પણ સહેજ હલવું જોઈએ (Depth માટે)
                bg.style.transform = `translate(${x * -20}px, ${y * -20}px)`;

            } else {
                status.innerText = "No Face Detected";
                // રીસેટ કરો
                card.style.setProperty('--rY', '0deg');
                card.style.setProperty('--rX', '0deg');
            }
        }

        const faceMesh = new FaceMesh({locateFile: (file) => `https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/${file}`});
        
        faceMesh.setOptions({
            maxNumFaces: 1,
            refineLandmarks: false,
            minDetectionConfidence: 0.5,
            minTrackingConfidence: 0.5
        });

        faceMesh.onResults(onResults);

        const camera = new Camera(videoElement, {
            onFrame: async () => await faceMesh.send({image: videoElement}),
            width: 320, height: 240
        });
        camera.start();
    </script>
</body>
</html>
