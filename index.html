<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dev's Digital Mentalist</title>
    <style>
        body { margin: 0; background: #1a1a1a; color: white; font-family: sans-serif; overflow: hidden; }
        h2 { text-align: center; margin-top: 10px; }
        
        /* ркХрлЗркорлЗрк░рк╛ркирлЗ ркЖрккркгрлЗ ркЫрлБрккрк╛рк╡рлА ркжркИрк╢рлБркВ ркЕркерк╡рк╛ ркирк╛ркирлЛ рк░рк╛ркЦрлАрк╢рлБркВ */
        #webcam { position: absolute; top: 0; left: 0; width: 100px; opacity: 0.5; z-index: 10; transform: scaleX(-1); }
        
        /* ркЬрк╛ркжрлБркИ ркХрк░рлНрк╕рк░ */
        #magicCursor {
            position: absolute; width: 20px; height: 20px;
            background: red; border-radius: 50%;
            box-shadow: 0 0 10px red; pointer-events: none;
            display: none; z-index: 100;
        }

        /* ркХрк╛рк░рлНркб ркХркирлНркЯрлЗркирк░ */
        .card-container {
            display: flex; justify-content: center; align-items: center;
            height: 80vh; gap: 20px;
        }

        /* ркХрк╛рк░рлНркбркирлА ркбрк┐ркЭрк╛ркИрки */
        .card {
            width: 90px; height: 140px;
            background: linear-gradient(135deg, #444, #222);
            border: 2px solid gold; border-radius: 10px;
            display: flex; justify-content: center; align-items: center;
            font-size: 40px; cursor: pointer;
            transition: transform 0.3s;
        }

        .card.revealed { background: white; border-color: red; transform: scale(1.1); }
        .card span { display: none; }
        .card.revealed span { display: block; }

    </style>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>
</head>
<body>

    <h2>Digital Mentalist ЁЯФо</h2>
    <p style="text-align:center; font-size:12px;">рк╣рк╡рк╛ркорк╛ркВ ркЖркВркЧрк│рлА ркЪрлАркВркзрлЛ ркЕркирлЗ ркХрк╛рк░рлНркб рккрк╕ркВркж ркХрк░рлЛ!</p>

    <video id="webcam" playsinline></video>

    <div id="magicCursor"></div>

    <div class="card-container">
        <div class="card" id="card1"><span>ЁЯНО</span></div>
        <div class="card" id="card2"><span>ЁЯСС</span></div>
        <div class="card" id="card3"><span>ЁЯЪА</span></div>
    </div>

    <script>
        const videoElement = document.getElementById('webcam');
        const cursor = document.getElementById('magicCursor');
        const cards = [document.getElementById('card1'), document.getElementById('card2'), document.getElementById('card3')];

        // ркХрк╛рк░рлНркб рккрк░ рк╣рлЛрк╡рк░ ркХрк░рк╡рк╛ркирлА ркЕрк╕рк░
        function checkCollision(x, y) {
            cursor.style.left = x + "px";
            cursor.style.top = y + "px";
            cursor.style.display = "block";

            cards.forEach(card => {
                const rect = card.getBoundingClientRect();
                // ркЬрлЛ ркХрк░рлНрк╕рк░ ркХрк╛рк░рлНркбркирлА ркЕркВркжрк░ рк╣рлЛркп
                if (x > rect.left && x < rect.right && y > rect.top && y < rect.bottom) {
                    card.classList.add('revealed'); // ркХрк╛рк░рлНркб ркЦрлЛрк▓рлА ркирк╛ркЦрлЛ
                } else {
                    card.classList.remove('revealed'); // рккрк╛ркЫрлБркВ ркмркВркз ркХрк░рлЛ
                }
            });
        }

        function onResults(results) {
            if (results.multiHandLandmarks && results.multiHandLandmarks.length > 0) {
                // рккрк╣рлЗрк▓рлЛ рк╣рк╛рке рккркХркбрлЛ
                const landmarks = results.multiHandLandmarks[0];
                
                // Index Finger Tip (ркЖркВркЧрк│рлАркирлБркВ ркЯрлЗрк░рк╡рлБркВ) - ID 8
                const indexTip = landmarks[8];

                // ркХрлЛ-ркУрк░рлНркбрк┐ркирлЗркЯрлНрк╕ркирлЗ рк╕рлНркХрлНрк░рлАрки ркорлБркЬркм рклрлЗрк░рк╡рлЛ (Mirror effect рк╕рк╛ркерлЗ)
                const x = (1 - indexTip.x) * window.innerWidth;
                const y = indexTip.y * window.innerHeight;

                checkCollision(x, y);
            } else {
                cursor.style.display = "none";
            }
        }

        const hands = new Hands({locateFile: (file) => {
            return `https://cdn.jsdelivr.net/npm/@mediapipe/hands/${file}`;
        }});

        hands.setOptions({
            maxNumHands: 1,
            modelComplexity: 1,
            minDetectionConfidence: 0.7,
            minTrackingConfidence: 0.7
        });

        hands.onResults(onResults);

        const camera = new Camera(videoElement, {
            onFrame: async () => {
                await hands.send({image: videoElement});
            },
            width: 640,
            height: 480
        });
        camera.start();
    </script>

</body>
</html>
